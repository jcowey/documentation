<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Documentation by YARD 0.6.1</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h2>Requirements</h2>

<ul>
<li><a href="http://jruby.org/">JRuby</a></li>
</ul>


<h2>Usage</h2>

<p>This project contains JRuby libraries and wrappers for
<a href="http://www.brics.dk/xsugar/">XSugar</a> as well as grammars for converting
between <a href="http://epidoc.sourceforge.net/">EpiDoc XML</a> and Leiden+ (a
Leiden-style plaintext markup).</p>

<p>To convert between the EpiDoc and Leiden+, the utility scripts
<code>xml2nonxml.rb</code> and <code>nonxml2xml.rb</code> are provided.</p>

<p>To use them you can simply run:</p>

<pre class="code"><span class='dot token'>.</span><span class='div op'>/</span><span class='bin identifier id'>bin</span><span class='div op'>/</span><span class='xml2nonxml identifier id'>xml2nonxml</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span> <span class='lt op'>&lt;</span> <span class='epidoc identifier id'>epidoc</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span> <span class='gt op'>&gt;</span> <span class='leiden identifier id'>leiden</span><span class='dot token'>.</span><span class='txt identifier id'>txt</span>
</pre>

<p>or</p>

<pre class="code"><span class='dot token'>.</span><span class='div op'>/</span><span class='bin identifier id'>bin</span><span class='div op'>/</span><span class='nonxml2xml identifier id'>nonxml2xml</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span> <span class='lt op'>&lt;</span> <span class='leiden identifier id'>leiden</span><span class='dot token'>.</span><span class='txt identifier id'>txt</span> <span class='gt op'>&gt;</span> <span class='epidoc identifier id'>epidoc</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span>
</pre>

<h2>File Structure</h2>

<pre class="code"><span class='bin identifier id'>bin</span><span class='div op'>/</span>                     <span class='command identifier id'>command</span><span class='minus op'>-</span><span class='line identifier id'>line</span> <span class='scripts identifier id'>scripts</span>
    <span class='blackboard_agent identifier id'>blackboard_agent</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>  <span class='blackboard identifier id'>blackboard</span> <span class='XSugar constant id'>XSugar</span> <span class='transformer identifier id'>transformer</span> <span class='agent identifier id'>agent</span> <span class='lparen token'>(</span><span class='run identifier id'>run</span> <span class='many identifier id'>many</span><span class='rparen token'>)</span>
    <span class='blackboard_server identifier id'>blackboard_server</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span> <span class='blackboard identifier id'>blackboard</span> <span class='XSugar constant id'>XSugar</span> <span class='transformer identifier id'>transformer</span> <span class='server identifier id'>server</span> <span class='lparen token'>(</span><span class='run identifier id'>run</span> <span class='one identifier id'>one</span><span class='rparen token'>)</span>
    <span class='coverage identifier id'>coverage</span><span class='dot token'>.</span><span class='sh identifier id'>sh</span>          <span class='IDP2 constant id'>IDP2</span> <span class='grammar identifier id'>grammar</span> <span class='coverage identifier id'>coverage</span> <span class='script identifier id'>script</span>
    <span class='xml2nonxml identifier id'>xml2nonxml</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>        <span class='command identifier id'>command</span><span class='minus op'>-</span><span class='line identifier id'>line</span> <span class='xml identifier id'>xml</span><span class='minus op'>-</span><span class='gt op'>&gt;</span><span class='non identifier id'>non</span><span class='minus op'>-</span><span class='xml identifier id'>xml</span> <span class='RXSugar constant id'>RXSugar</span> <span class='utility identifier id'>utility</span>
    <span class='nonxml2xml identifier id'>nonxml2xml</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>        <span class='command identifier id'>command</span><span class='minus op'>-</span><span class='line identifier id'>line</span> <span class='non identifier id'>non</span><span class='minus op'>-</span><span class='xml identifier id'>xml</span><span class='minus op'>-</span><span class='gt op'>&gt;</span><span class='xml identifier id'>xml</span> <span class='RXSugar constant id'>RXSugar</span> <span class='utility identifier id'>utility</span>
<span class='epidoc identifier id'>epidoc</span><span class='dot token'>.</span><span class='xsg identifier id'>xsg</span>               <span class='Leiden constant id'>Leiden</span><span class='plus op'>+</span> <span class='XSugar constant id'>XSugar</span> <span class='grammar identifier id'>grammar</span>
<span class='init identifier id'>init</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>                  <span class='Rails constant id'>Rails</span> <span class='plugin identifier id'>plugin</span> <span class='init identifier id'>init</span> <span class='script identifier id'>script</span>
<span class='lib identifier id'>lib</span><span class='div op'>/</span>                     <span class='source identifier id'>source</span> <span class='code identifier id'>code</span>
    <span class='coverage identifier id'>coverage</span><span class='div op'>/</span>            <span class='classes identifier id'>classes</span> <span class='for for kw'>for</span> <span class='testing identifier id'>testing</span> <span class='XSugar constant id'>XSugar</span> <span class='coverage identifier id'>coverage</span>
    <span class='standalone identifier id'>standalone</span><span class='div op'>/</span>          <span class='classes identifier id'>classes</span> <span class='for for kw'>for</span> <span class='warming identifier id'>warming</span> <span class='up identifier id'>up</span> <span class='standalone identifier id'>standalone</span> <span class='server identifier id'>server</span>
    <span class='jruby_helper identifier id'>jruby_helper</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>      <span class='helper identifier id'>helper</span> <span class='classes identifier id'>classes</span> <span class='for for kw'>for</span> <span class='invoking identifier id'>invoking</span> <span class='RXSugar constant id'>RXSugar</span> <span class='from identifier id'>from</span> <span class='JRuby constant id'>JRuby</span>
    <span class='modules_jruby identifier id'>modules_jruby</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>     <span class='Java constant id'>Java</span><span class='minus op'>-</span><span class='gt op'>&gt;</span><span class='Ruby constant id'>Ruby</span> <span class='module module kw'>module</span> <span class='conversion identifier id'>conversion</span> <span class='for for kw'>for</span> <span class='JRuby constant id'>JRuby</span>
    <span class='modules_rjb identifier id'>modules_rjb</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>       <span class='Java constant id'>Java</span><span class='minus op'>-</span><span class='gt op'>&gt;</span><span class='Ruby constant id'>Ruby</span> <span class='module module kw'>module</span> <span class='conversion identifier id'>conversion</span> <span class='for for kw'>for</span> <span class='RJB constant id'>RJB</span>
    <span class='rxsugar identifier id'>rxsugar</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>           <span class='main identifier id'>main</span> <span class='Ruby constant id'>Ruby</span> <span class='XSugar constant id'>XSugar</span> <span class='wrapper identifier id'>wrapper</span> <span class='class class kw'>class</span>
    <span class='rxsugar_helper identifier id'>rxsugar_helper</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>    <span class='helper identifier id'>helper</span> <span class='classes identifier id'>classes</span> <span class='for for kw'>for</span> <span class='using identifier id'>using</span> <span class='Ruby constant id'>Ruby</span> <span class='XSugar constant id'>XSugar</span> <span class='wrapper identifier id'>wrapper</span>
    <span class='util_helper identifier id'>util_helper</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>       <span class='helper identifier id'>helper</span> <span class='classes identifier id'>classes</span> <span class='for for kw'>for</span> <span class='command identifier id'>command</span><span class='minus op'>-</span><span class='line identifier id'>line</span> <span class='scripts identifier id'>scripts</span>
    <span class='xsugar identifier id'>xsugar</span><span class='minus op'>-</span><span class='all identifier id'>all</span><span class='dot token'>.</span><span class='jar identifier id'>jar</span>       <span class='compiled identifier id'>compiled</span> <span class='upstream identifier id'>upstream</span> <span class='XSugar constant id'>XSugar</span> <span class='JAR constant id'>JAR</span>
<span class='src identifier id'>src</span><span class='div op'>/</span>                     <span class='Java constant id'>Java</span> <span class='source identifier id'>source</span> <span class='code identifier id'>code</span>
    <span class='standalone identifier id'>standalone</span><span class='div op'>/</span>          <span class='source identifier id'>source</span> <span class='code identifier id'>code</span> <span class='for for kw'>for</span> <span class='standalone identifier id'>standalone</span> <span class='transformation identifier id'>transformation</span> <span class='server identifier id'>server</span>
    <span class='xsugar identifier id'>xsugar</span><span class='div op'>/</span>              <span class='upstream identifier id'>upstream</span> <span class='XSugar constant id'>XSugar</span> <span class='source identifier id'>source</span> <span class='code identifier id'>code</span>
<span class='test identifier id'>test</span><span class='div op'>/</span>                    <span class='source identifier id'>source</span> <span class='code identifier id'>code</span> <span class='for for kw'>for</span> <span class='unit identifier id'>unit</span> <span class='testing identifier id'>testing</span>
<span class='translation_epidoc identifier id'>translation_epidoc</span><span class='dot token'>.</span><span class='xsg identifier id'>xsg</span>   <span class='XSugar constant id'>XSugar</span> <span class='grammar identifier id'>grammar</span> <span class='for for kw'>for</span> <span class='EpiDoc constant id'>EpiDoc</span> <span class='translations identifier id'>translations</span>
</pre>

<h2>Testing</h2>

<p>The Ruby testing uses JRuby, so you should invoke rake with:</p>

<p>  jruby -S rake</p>

<p>Since the XSugar jar requires Java 1.6, make sure your JAVA_HOME is set to a
Java 1.6 install when running JRuby.</p>

<h2>Upstream</h2>

<p>The Java XSugar source is tracked in xsugar-vendor. Customizations for this
project are in xsugar-customizations, merged into master. To e.g. update
to a new upstream version of XSugar, you would unpack it to src/xsugar
on the xsugar-vendor branch and commit the changes. Then you would rebase
the changes in xsugar-customizations onto the new xsugar-vendor. Then merge
xsugar-customizations into master and rebuild lib/xsugar-all.jar (using the
rake task java:xsugar:build) and commit. Do not make changes/customizations to
the Java XSugar source on master, make them on xsugar-customizations so that
the merge upstream/rebase/merge workflow is more straightforward.</p></div></div>
    
  </body>
</html>
